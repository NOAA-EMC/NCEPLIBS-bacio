<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>NCEPLIBS-bacio: bacio.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">NCEPLIBS-bacio
   &#160;<span id="projectnumber">2.4.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('bacio_8c.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">bacio.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Fortran-callable routines to read and write characther (bacio) and numeric (banio) data byte addressably.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;sys/types.h&gt;</code><br />
<code>#include &lt;sys/stat.h&gt;</code><br />
<code>#include &lt;fcntl.h&gt;</code><br />
<code>#include &lt;unistd.h&gt;</code><br />
<code>#include &lt;malloc.h&gt;</code><br />
<code>#include &lt;ctype.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &quot;<a class="el" href="clib_8h_source.html">clib.h</a>&quot;</code><br />
</div>
<p><a href="bacio_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:afa339592efdc6c1aabd819f92b60d75c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bacio_8c.html#afa339592efdc6c1aabd819f92b60d75c">bacio_</a> (int *mode, int *start, int *newpos, int *size, int *no, int *nactual, int *fdes, const char *fname, char *datary, int namelen, int datanamelen)</td></tr>
<tr class="memdesc:afa339592efdc6c1aabd819f92b60d75c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Do bacio operation.  <a href="bacio_8c.html#afa339592efdc6c1aabd819f92b60d75c">More...</a><br /></td></tr>
<tr class="separator:afa339592efdc6c1aabd819f92b60d75c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a0d52946382d65166f42d885d517324"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bacio_8c.html#a5a0d52946382d65166f42d885d517324">baciol_</a> (int *mode, long int *start, long int *newpos, int *size, long int *no, long int *nactual, int *fdes, const char *fname, char *datary, int namelen, int datanamelen)</td></tr>
<tr class="memdesc:a5a0d52946382d65166f42d885d517324"><td class="mdescLeft">&#160;</td><td class="mdescRight">Do bacio operation, with new names for long int arguments, needed for files &gt; 2 Gb.  <a href="bacio_8c.html#a5a0d52946382d65166f42d885d517324">More...</a><br /></td></tr>
<tr class="separator:a5a0d52946382d65166f42d885d517324"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98de22bea8afd76a266a5bbc4f0db707"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bacio_8c.html#a98de22bea8afd76a266a5bbc4f0db707">banio_</a> (int *mode, int *start, int *newpos, int *size, int *no, int *nactual, int *fdes, const char *fname, char *datary, int namelen)</td></tr>
<tr class="memdesc:a98de22bea8afd76a266a5bbc4f0db707"><td class="mdescLeft">&#160;</td><td class="mdescRight">Do banio operation.  <a href="bacio_8c.html#a98de22bea8afd76a266a5bbc4f0db707">More...</a><br /></td></tr>
<tr class="separator:a98de22bea8afd76a266a5bbc4f0db707"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75975d3289d1d533cfe16f2852558c96"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="bacio_8c.html#a75975d3289d1d533cfe16f2852558c96">baniol_</a> (int *mode, long int *start, long int *newpos, int *size, long int *no, long int *nactual, int *fdes, const char *fname, char *datary, int namelen)</td></tr>
<tr class="memdesc:a75975d3289d1d533cfe16f2852558c96"><td class="mdescLeft">&#160;</td><td class="mdescRight">Do banio operation, with new names for long int arguments, needed for files &gt; 2 Gb.  <a href="bacio_8c.html#a75975d3289d1d533cfe16f2852558c96">More...</a><br /></td></tr>
<tr class="separator:a75975d3289d1d533cfe16f2852558c96"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Fortran-callable routines to read and write characther (bacio) and numeric (banio) data byte addressably. </p>
<p>v1.1:</p><ul>
<li>Put diagnostic output under control of define VERBOSE or QUIET</li>
<li>Add option of non-seeking read/write</li>
<li><p class="startli">Return code for fewer data read/written than requested</p>
<p class="startli">v1.2:</p>
</li>
<li><p class="startli">Add cray compatibility 20 April 1998 Robert Grumbine</p>
<p class="startli">v1.3:</p>
</li>
<li>Add IBMSP compatibility (IBM4, IBM8)</li>
<li>Add modes BAOPEN_WONLY_TRUNC, BAOPEN_WONLY_APPEND</li>
<li>Use isgraph instead of isalnum + a short list of accepted characters for filename check 12 Dec 2000 Stephen Gilbert</li>
<li><p class="startli">negative return codes are wrapped to positive, revise return codes verify that banio and bacio have same contents, update comments 29 Oct 2008 Robert Grumbine</p>
<p class="startli">v1.4:</p>
</li>
<li>21 Nov 2008 Add baciol and baniol functions, versions to work with files over 2 Gb Robert Grumbine</li>
<li>Aug 2012 Jun Wang fix c filename length because the c string needs to end with "null" terminator , and free allocated cfile name realname to avoid memory leak.</li>
<li>Sep 2012 Jun Wang: remove execute permission on the data file generated by bacio.</li>
</ul>
<dl class="section author"><dt>Author</dt><dd>Robert Grumbine </dd></dl>
<dl class="section date"><dt>Date</dt><dd>16 March 1998 </dd></dl>

<p class="definition">Definition in file <a class="el" href="bacio_8c_source.html">bacio.c</a>.</p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="afa339592efdc6c1aabd819f92b60d75c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afa339592efdc6c1aabd819f92b60d75c">&#9670;&nbsp;</a></span>bacio_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int bacio_ </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>newpos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>no</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>nactual</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>fdes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>datary</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>namelen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>datanamelen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Do bacio operation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mode</td><td>integer specifying operations to be performed see the clib.inc file for the values. Mode is obtained by adding together the values corresponding to the operations The best method is to include the clib.inc file and refer to the names for the operations rather than rely on hard-coded values. </td></tr>
    <tr><td class="paramname">start</td><td>byte number to start your operation from. 0 is the first byte in the file, not 1. </td></tr>
    <tr><td class="paramname">newpos</td><td>position in the file after a read or write has been performed. You'll need this if you're doing 'seeking' read/write. </td></tr>
    <tr><td class="paramname">size</td><td>is the size of the objects you are trying to read. Rely on the values in the locale.inc file. Types are CHARACTER, INTEGER, REAL, COMPLEX. Specify the correct value by using SIZEOF_type, where type is one of these. (After having included the locale.inc file). </td></tr>
    <tr><td class="paramname">no</td><td>is the number of things to read or write (characters, integers, whatever). </td></tr>
    <tr><td class="paramname">nactual</td><td>is the number of things actually read or written. Check that you got what you wanted. </td></tr>
    <tr><td class="paramname">fdes</td><td>is an integer 'file descriptor'. This is not a Fortran Unit Number You can use it, however, to refer to files you've previously opened. </td></tr>
    <tr><td class="paramname">fname</td><td>is the name of the file. This only needs to be defined when you are opening a file. It must be (on the Fortran side) declared as CHARACTER*N, where N is a length greater than or equal to the length of the file name. CHARACTER*1 fname[80] (for example) will fail. </td></tr>
    <tr><td class="paramname">datary</td><td>is the name of the entity (variable, vector, array) that you want to write data out from or read it in to. The fact that C is declaring it to be a char * does not affect your fortran. </td></tr>
    <tr><td class="paramname">namelen</td><td>- Do NOT specify this. It is created automagically by the <br  />
 Fortran compiler <br  />
 </td></tr>
    <tr><td class="paramname">datanamelen</td><td>- Do NOT specify this. It is created automagically by the <br  />
 Fortran compiler <br  />
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>In your Fortran code, call <a class="el" href="namespacebacio__module.html#a035681f36ccbe2cb7862a50b3c0dadc2" title="BACIO.">bacio()</a>, not <a class="el" href="bacio_8c.html#afa339592efdc6c1aabd819f92b60d75c" title="Do bacio operation.">bacio_()</a>.</dd></dl>
<p>What is going on here is that although the Fortran caller will always be calling bacio, the called C routine name will change from system to system.</p>
<dl class="section return"><dt>Returns</dt><dd>0 All was well <br  />
 </dd>
<dd>
255 Tried to open read only <em>and</em> write only <br  />
 </dd>
<dd>
254 Tried to read and write in the same call <br  />
 </dd>
<dd>
253 Internal failure in name processing <br  />
 </dd>
<dd>
252 Failure in opening file <br  />
 </dd>
<dd>
251 Tried to read on a write-only file <br  />
 </dd>
<dd>
250 Failed in read to find the 'start' location <br  />
 </dd>
<dd>
249 Tried to write to a read only file <br  />
 </dd>
<dd>
248 Failed in write to find the 'start' location <br  />
 </dd>
<dd>
247 Error in close <br  />
 </dd>
<dd>
246 Read or wrote fewer data than requested <br  />
 </dd>
<dd>
102 Massive catastrophe &ndash; datary pointer is NULL <br  />
</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Robert Grumbine </dd></dl>
<dl class="section date"><dt>Date</dt><dd>16 March 1998 </dd></dl>
<p>&lt; Read only.</p>
<p>&lt; Write only.</p>
<p>&lt; Write only truncate.</p>
<p>&lt; Write only append.</p>
<p>&lt; Read.</p>
<p>&lt; Write.</p>
<p>&lt; Read only.</p>
<p>&lt; Write only.</p>
<p>&lt; Write only truncate.</p>
<p>&lt; Write only append.</p>
<p>&lt; Read/write.</p>
<p>&lt; Read only.</p>
<p>&lt; Write only.</p>
<p>&lt; Write only truncate.</p>
<p>&lt; Write only append.</p>
<p>&lt; Read/write.</p>
<p>&lt; Read.</p>
<p>&lt; Write only.</p>
<p>&lt; Write only truncate.</p>
<p>&lt; Write only append.</p>
<p>&lt; Read.</p>
<p>&lt; No seek.</p>
<p>&lt; Write.</p>
<p>&lt; Read only.</p>
<p>&lt; Write.</p>
<p>&lt; No seek.</p>
<p>&lt; Close.</p>
<p>&lt; Read only.</p>
<p>&lt; Write only.</p>
<p>&lt; Write only truncate.</p>
<p>&lt; Write only append.</p>
<p>&lt; Read/write.</p>
<p>&lt; Read.</p>
<p>&lt; Write.</p>

<p class="definition">Definition at line <a class="el" href="bacio_8c_source.html#l00132">132</a> of file <a class="el" href="bacio_8c_source.html">bacio.c</a>.</p>

<p class="reference">References <a class="el" href="baciof_8f90_source.html#l00012">bacio_module::bacio</a>, <a class="el" href="clib_8h_source.html#l00028">BACLOSE</a>, <a class="el" href="bacio_8c_source.html#l00485">banio_()</a>, <a class="el" href="clib_8h_source.html#l00025">BAOPEN_RONLY</a>, <a class="el" href="clib_8h_source.html#l00027">BAOPEN_RW</a>, <a class="el" href="clib_8h_source.html#l00026">BAOPEN_WONLY</a>, <a class="el" href="clib_8h_source.html#l00033">BAOPEN_WONLY_APPEND</a>, <a class="el" href="clib_8h_source.html#l00032">BAOPEN_WONLY_TRUNC</a>, <a class="el" href="clib_8h_source.html#l00029">BAREAD</a>, <a class="el" href="clib_8h_source.html#l00030">BAWRITE</a>, and <a class="el" href="clib_8h_source.html#l00031">NOSEEK</a>.</p>

</div>
</div>
<a id="a5a0d52946382d65166f42d885d517324"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a0d52946382d65166f42d885d517324">&#9670;&nbsp;</a></span>baciol_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int baciol_ </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long int *&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long int *&#160;</td>
          <td class="paramname"><em>newpos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long int *&#160;</td>
          <td class="paramname"><em>no</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long int *&#160;</td>
          <td class="paramname"><em>nactual</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>fdes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>datary</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>namelen</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>datanamelen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Do bacio operation, with new names for long int arguments, needed for files &gt; 2 Gb. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mode</td><td>integer specifying operations to be performed see the clib.inc file for the values. Mode is obtained by adding together the values corresponding to the operations The best method is to include the clib.inc file and refer to the names for the operations rather than rely on hard-coded values. </td></tr>
    <tr><td class="paramname">start</td><td>byte number to start your operation from. 0 is the first byte in the file, not 1. </td></tr>
    <tr><td class="paramname">newpos</td><td>position in the file after a read or write has been performed. You'll need this if you're doing 'seeking' read/write. </td></tr>
    <tr><td class="paramname">size</td><td>is the size of the objects you are trying to read. Rely on the values in the locale.inc file. Types are CHARACTER, INTEGER, REAL, COMPLEX. Specify the correct value by using SIZEOF_type, where type is one of these. (After having included the locale.inc file). </td></tr>
    <tr><td class="paramname">no</td><td>is the number of things to read or write (characters, integers, whatever). </td></tr>
    <tr><td class="paramname">nactual</td><td>is the number of things actually read or written. Check that you got what you wanted. </td></tr>
    <tr><td class="paramname">fdes</td><td>is an integer 'file descriptor'. This is not a Fortran Unit Number You can use it, however, to refer to files you've previously opened. </td></tr>
    <tr><td class="paramname">fname</td><td>is the name of the file. This only needs to be defined when you are opening a file. It must be (on the Fortran side) declared as CHARACTER*N, where N is a length greater than or equal to the length of the file name. CHARACTER*1 fname[80] (for example) will fail. </td></tr>
    <tr><td class="paramname">datary</td><td>is the name of the entity (variable, vector, array) that you want to write data out from or read it in to. The fact that C is declaring it to be a char * does not affect your fortran. </td></tr>
    <tr><td class="paramname">namelen</td><td>- Do NOT specify this. It is created automagically by the <br  />
 Fortran compiler <br  />
 </td></tr>
    <tr><td class="paramname">datanamelen</td><td>- Do NOT specify this. It is created automagically by the <br  />
 Fortran compiler <br  />
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>In your Fortran code, call <a class="el" href="namespacebacio__module.html#a035681f36ccbe2cb7862a50b3c0dadc2" title="BACIO.">bacio()</a>, not <a class="el" href="bacio_8c.html#afa339592efdc6c1aabd819f92b60d75c" title="Do bacio operation.">bacio_()</a>.</dd></dl>
<p>What is going on here is that although the Fortran caller will always be calling bacio, the called C routine name will change from system to system.</p>
<dl class="section return"><dt>Returns</dt><dd>0 All was well <br  />
 </dd>
<dd>
255 Tried to open read only <em>and</em> write only <br  />
 </dd>
<dd>
254 Tried to read and write in the same call <br  />
 </dd>
<dd>
253 Internal failure in name processing <br  />
 </dd>
<dd>
252 Failure in opening file <br  />
 </dd>
<dd>
251 Tried to read on a write-only file <br  />
 </dd>
<dd>
250 Failed in read to find the 'start' location <br  />
 </dd>
<dd>
249 Tried to write to a read only file <br  />
 </dd>
<dd>
248 Failed in write to find the 'start' location <br  />
 </dd>
<dd>
247 Error in close <br  />
 </dd>
<dd>
246 Read or wrote fewer data than requested <br  />
 </dd>
<dd>
102 Massive catastrophe &ndash; datary pointer is NULL <br  />
</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Robert Grumbine </dd></dl>
<dl class="section date"><dt>Date</dt><dd>21 November 2008 </dd></dl>
<p>&lt; Read only.</p>
<p>&lt; Write only.</p>
<p>&lt; Write only truncate.</p>
<p>&lt; Write only append.</p>
<p>&lt; Read.</p>
<p>&lt; Write.</p>
<p>&lt; Read only.</p>
<p>&lt; Write only.</p>
<p>&lt; Write only truncate.</p>
<p>&lt; Write only append.</p>
<p>&lt; Read/write.</p>
<p>&lt; Read only.</p>
<p>&lt; Write only.</p>
<p>&lt; Write only truncate.</p>
<p>&lt; Write only append.</p>
<p>&lt; Read/write.</p>
<p>&lt; Read.</p>
<p>&lt; Write only.</p>
<p>&lt; Write only truncate.</p>
<p>&lt; Write only append.</p>
<p>&lt; Read.</p>
<p>&lt; No seek.</p>
<p>&lt; Write.</p>
<p>&lt; Read only.</p>
<p>&lt; Write.</p>
<p>&lt; No seek.</p>
<p>&lt; Close.</p>
<p>&lt; Read only.</p>
<p>&lt; Write only.</p>
<p>&lt; Write only truncate.</p>
<p>&lt; Write only append.</p>
<p>&lt; Read/write.</p>
<p>&lt; Read.</p>
<p>&lt; Write.</p>

<p class="definition">Definition at line <a class="el" href="bacio_8c_source.html#l00817">817</a> of file <a class="el" href="bacio_8c_source.html">bacio.c</a>.</p>

<p class="reference">References <a class="el" href="baciof_8f90_source.html#l00013">bacio_module::baciol</a>, <a class="el" href="clib_8h_source.html#l00028">BACLOSE</a>, <a class="el" href="bacio_8c_source.html#l01172">baniol_()</a>, <a class="el" href="clib_8h_source.html#l00025">BAOPEN_RONLY</a>, <a class="el" href="clib_8h_source.html#l00027">BAOPEN_RW</a>, <a class="el" href="clib_8h_source.html#l00026">BAOPEN_WONLY</a>, <a class="el" href="clib_8h_source.html#l00033">BAOPEN_WONLY_APPEND</a>, <a class="el" href="clib_8h_source.html#l00032">BAOPEN_WONLY_TRUNC</a>, <a class="el" href="clib_8h_source.html#l00029">BAREAD</a>, <a class="el" href="clib_8h_source.html#l00030">BAWRITE</a>, and <a class="el" href="clib_8h_source.html#l00031">NOSEEK</a>.</p>

<p class="reference">Referenced by <a class="el" href="bacio_8c_source.html#l00485">banio_()</a>.</p>

</div>
</div>
<a id="a98de22bea8afd76a266a5bbc4f0db707"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98de22bea8afd76a266a5bbc4f0db707">&#9670;&nbsp;</a></span>banio_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int banio_ </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>newpos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>no</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>nactual</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>fdes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>datary</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>namelen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Do banio operation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mode</td><td>integer specifying operations to be performed see the clib.inc file for the values. Mode is obtained by adding together the values corresponding to the operations The best method is to include the clib.inc file and refer to the names for the operations rather than rely on hard-coded values. </td></tr>
    <tr><td class="paramname">start</td><td>byte number to start your operation from. 0 is the first byte in the file, not 1. </td></tr>
    <tr><td class="paramname">newpos</td><td>position in the file after a read or write has been performed. You'll need this if you're doing 'seeking' read/write. </td></tr>
    <tr><td class="paramname">size</td><td>is the size of the objects you are trying to read. Rely on the values in the locale.inc file. Types are CHARACTER, INTEGER, REAL, COMPLEX. Specify the correct value by using SIZEOF_type, where type is one of these. (After having included the locale.inc file). </td></tr>
    <tr><td class="paramname">no</td><td>is the number of things to read or write (characters, integers, whatever). </td></tr>
    <tr><td class="paramname">nactual</td><td>is the number of things actually read or written. Check that you got what you wanted. </td></tr>
    <tr><td class="paramname">fdes</td><td>is an integer 'file descriptor'. This is not a Fortran Unit Number You can use it, however, to refer to files you've previously opened. </td></tr>
    <tr><td class="paramname">fname</td><td>is the name of the file. This only needs to be defined when you are opening a file. It must be (on the Fortran side) declared as CHARACTER*N, where N is a length greater than or equal to the length of the file name. CHARACTER*1 fname[80] (for example) will fail. </td></tr>
    <tr><td class="paramname">datary</td><td>is the name of the entity (variable, vector, array) that you want to write data out from or read it in to. The fact that C is declaring it to be a char * does not affect your fortran. </td></tr>
    <tr><td class="paramname">namelen</td><td>- Do NOT specify this. It is created automagically by the <br  />
 Fortran compiler <br  />
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>In your Fortran code, call banio(), not <a class="el" href="bacio_8c.html#a98de22bea8afd76a266a5bbc4f0db707" title="Do banio operation.">banio_()</a>.</dd></dl>
<p>What is going on here is that although the Fortran caller will always be calling banio(), the called C routine name will change from system to system.</p>
<dl class="section return"><dt>Returns</dt><dd>0 All was well <br  />
 </dd>
<dd>
255 Tried to open read only <em>and</em> write only <br  />
 </dd>
<dd>
254 Tried to read and write in the same call <br  />
 </dd>
<dd>
253 Internal failure in name processing <br  />
 </dd>
<dd>
252 Failure in opening file <br  />
 </dd>
<dd>
251 Tried to read on a write-only file <br  />
 </dd>
<dd>
250 Failed in read to find the 'start' location <br  />
 </dd>
<dd>
249 Tried to write to a read only file <br  />
 </dd>
<dd>
248 Failed in write to find the 'start' location <br  />
 </dd>
<dd>
247 Error in close <br  />
 </dd>
<dd>
246 Read or wrote fewer data than requested <br  />
 </dd>
<dd>
102 Massive catastrophe &ndash; datary pointer is NULL <br  />
</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Robert Grumbine </dd></dl>
<dl class="section date"><dt>Date</dt><dd>16 March 1998 </dd></dl>
<p>&lt; Read only.</p>
<p>&lt; Write only.</p>
<p>&lt; Write only truncate.</p>
<p>&lt; Write only append.</p>
<p>&lt; Read.</p>
<p>&lt; Write.</p>
<p>&lt; Read only.</p>
<p>&lt; Write only.</p>
<p>&lt; Write only truncate.</p>
<p>&lt; Write only append.</p>
<p>&lt; Read/write.</p>
<p>&lt; Read only.</p>
<p>&lt; Write only.</p>
<p>&lt; Write only truncate.</p>
<p>&lt; Write only append.</p>
<p>&lt; Read/write.</p>
<p>&lt; Read.</p>
<p>&lt; Write only.</p>
<p>&lt; Write only truncate.</p>
<p>&lt; Write only append.</p>
<p>&lt; Read.</p>
<p>&lt; No seek.</p>
<p>&lt; Write.</p>
<p>&lt; Read only.</p>
<p>&lt; Write.</p>
<p>&lt; No seek.</p>
<p>&lt; Close.</p>
<p>&lt; Read only.</p>
<p>&lt; Write only.</p>
<p>&lt; Write only truncate.</p>
<p>&lt; Write only append.</p>
<p>&lt; Read/write.</p>
<p>&lt; Read.</p>
<p>&lt; Write.</p>

<p class="definition">Definition at line <a class="el" href="bacio_8c_source.html#l00484">484</a> of file <a class="el" href="bacio_8c_source.html">bacio.c</a>.</p>

<p class="reference">References <a class="el" href="baciof_8f90_source.html#l00013">bacio_module::baciol</a>, <a class="el" href="bacio_8c_source.html#l00818">baciol_()</a>, <a class="el" href="clib_8h_source.html#l00028">BACLOSE</a>, <a class="el" href="clib_8h_source.html#l00025">BAOPEN_RONLY</a>, <a class="el" href="clib_8h_source.html#l00027">BAOPEN_RW</a>, <a class="el" href="clib_8h_source.html#l00026">BAOPEN_WONLY</a>, <a class="el" href="clib_8h_source.html#l00033">BAOPEN_WONLY_APPEND</a>, <a class="el" href="clib_8h_source.html#l00032">BAOPEN_WONLY_TRUNC</a>, <a class="el" href="clib_8h_source.html#l00029">BAREAD</a>, <a class="el" href="clib_8h_source.html#l00030">BAWRITE</a>, and <a class="el" href="clib_8h_source.html#l00031">NOSEEK</a>.</p>

<p class="reference">Referenced by <a class="el" href="bacio_8c_source.html#l00133">bacio_()</a>.</p>

</div>
</div>
<a id="a75975d3289d1d533cfe16f2852558c96"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75975d3289d1d533cfe16f2852558c96">&#9670;&nbsp;</a></span>baniol_()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int baniol_ </td>
          <td>(</td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>mode</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long int *&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long int *&#160;</td>
          <td class="paramname"><em>newpos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long int *&#160;</td>
          <td class="paramname"><em>no</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">long int *&#160;</td>
          <td class="paramname"><em>nactual</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>fdes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>fname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>datary</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>namelen</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Do banio operation, with new names for long int arguments, needed for files &gt; 2 Gb. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">mode</td><td>integer specifying operations to be performed see the clib.inc file for the values. Mode is obtained by adding together the values corresponding to the operations The best method is to include the clib.inc file and refer to the names for the operations rather than rely on hard-coded values. </td></tr>
    <tr><td class="paramname">start</td><td>byte number to start your operation from. 0 is the first byte in the file, not 1. </td></tr>
    <tr><td class="paramname">newpos</td><td>position in the file after a read or write has been performed. You'll need this if you're doing 'seeking' read/write. </td></tr>
    <tr><td class="paramname">size</td><td>is the size of the objects you are trying to read. Rely on the values in the locale.inc file. Types are CHARACTER, INTEGER, REAL, COMPLEX. Specify the correct value by using SIZEOF_type, where type is one of these. (After having included the locale.inc file). </td></tr>
    <tr><td class="paramname">no</td><td>is the number of things to read or write (characters, integers, whatever). </td></tr>
    <tr><td class="paramname">nactual</td><td>is the number of things actually read or written. Check that you got what you wanted. </td></tr>
    <tr><td class="paramname">fdes</td><td>is an integer 'file descriptor'. This is not a Fortran Unit Number You can use it, however, to refer to files you've previously opened. </td></tr>
    <tr><td class="paramname">fname</td><td>is the name of the file. This only needs to be defined when you are opening a file. It must be (on the Fortran side) declared as CHARACTER*N, where N is a length greater than or equal to the length of the file name. CHARACTER*1 fname[80] (for example) will fail. </td></tr>
    <tr><td class="paramname">datary</td><td>is the name of the entity (variable, vector, array) that you want to write data out from or read it in to. The fact that C is declaring it to be a char * does not affect your fortran. </td></tr>
    <tr><td class="paramname">namelen</td><td>- Do NOT specify this. It is created automagically by the <br  />
 Fortran compiler <br  />
</td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>In your Fortran code, call banio(), not <a class="el" href="bacio_8c.html#a98de22bea8afd76a266a5bbc4f0db707" title="Do banio operation.">banio_()</a>.</dd></dl>
<p>What is going on here is that although the Fortran caller will always be calling banio(), the called C routine name will change from system to system.</p>
<dl class="section return"><dt>Returns</dt><dd>0 All was well <br  />
 </dd>
<dd>
255 Tried to open read only <em>and</em> write only <br  />
 </dd>
<dd>
254 Tried to read and write in the same call <br  />
 </dd>
<dd>
253 Internal failure in name processing <br  />
 </dd>
<dd>
252 Failure in opening file <br  />
 </dd>
<dd>
251 Tried to read on a write-only file <br  />
 </dd>
<dd>
250 Failed in read to find the 'start' location <br  />
 </dd>
<dd>
249 Tried to write to a read only file <br  />
 </dd>
<dd>
248 Failed in write to find the 'start' location <br  />
 </dd>
<dd>
247 Error in close <br  />
 </dd>
<dd>
246 Read or wrote fewer data than requested <br  />
 </dd>
<dd>
102 Massive catastrophe &ndash; datary pointer is NULL <br  />
</dd></dl>
<dl class="section author"><dt>Author</dt><dd>Robert Grumbine </dd></dl>
<dl class="section date"><dt>Date</dt><dd>16 March 1998 </dd></dl>
<p>&lt; Read only.</p>
<p>&lt; Write only.</p>
<p>&lt; Write only truncate.</p>
<p>&lt; Write only append.</p>
<p>&lt; Read.</p>
<p>&lt; Write.</p>
<p>&lt; Read only.</p>
<p>&lt; Write only.</p>
<p>&lt; Write only truncate.</p>
<p>&lt; Write only append.</p>
<p>&lt; Read/write.</p>
<p>&lt; Read only.</p>
<p>&lt; Write only.</p>
<p>&lt; Write only truncate.</p>
<p>&lt; Write only append.</p>
<p>&lt; Read/write.</p>
<p>&lt; Read.</p>
<p>&lt; Write only.</p>
<p>&lt; Write only truncate.</p>
<p>&lt; Write only append.</p>
<p>&lt; Read.</p>
<p>&lt; No seek.</p>
<p>&lt; Write.</p>
<p>&lt; Read only.</p>
<p>&lt; Write.</p>
<p>&lt; No seek.</p>
<p>&lt; Close.</p>
<p>&lt; Read only.</p>
<p>&lt; Write only.</p>
<p>&lt; Write only truncate.</p>
<p>&lt; Write only append.</p>
<p>&lt; Read/write.</p>
<p>&lt; Read.</p>
<p>&lt; Write.</p>

<p class="definition">Definition at line <a class="el" href="bacio_8c_source.html#l01171">1171</a> of file <a class="el" href="bacio_8c_source.html">bacio.c</a>.</p>

<p class="reference">References <a class="el" href="clib_8h_source.html#l00028">BACLOSE</a>, <a class="el" href="clib_8h_source.html#l00025">BAOPEN_RONLY</a>, <a class="el" href="clib_8h_source.html#l00027">BAOPEN_RW</a>, <a class="el" href="clib_8h_source.html#l00026">BAOPEN_WONLY</a>, <a class="el" href="clib_8h_source.html#l00033">BAOPEN_WONLY_APPEND</a>, <a class="el" href="clib_8h_source.html#l00032">BAOPEN_WONLY_TRUNC</a>, <a class="el" href="clib_8h_source.html#l00029">BAREAD</a>, <a class="el" href="clib_8h_source.html#l00030">BAWRITE</a>, and <a class="el" href="clib_8h_source.html#l00031">NOSEEK</a>.</p>

<p class="reference">Referenced by <a class="el" href="bacio_8c_source.html#l00818">baciol_()</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="bacio_8c.html">bacio.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
